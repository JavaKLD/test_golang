# Оглавление

- [Создание базы данных](#создание-базы-данных)
- [Используемые технологии](#используемые-технологии)
- [Структура проекта](#структура-проекта)
- [API](#api)

# Установка и настройка

## Создание базы данных

1. Вам потребуется создать базу данных для приложения. Используйте параметры, указанные в .env файле.

2. Настройка .env файла
В корневой директории проекта создайте файл .env и укажите в нем следующие переменные:

```env
DB_USER=root
DB_PASSWORD=41ddsg4mM!
DB_HOST=localhost
DB_PORT=3306
DB_NAME=dolittle

NEXT_TAKING_PERIOD=2h
```

Параметры для подключения к базе данных:

- **DB_USER**: имя пользователя для подключения к базе данных.
- **DB_PASSWORD**: пароль для пользователя.
- **DB_HOST**: хост базы данных.
- **DB_PORT**: порт для подключения (по умолчанию для MySQL —3306).
- **DB_NAME**: имя базы данных, которая будет использоваться впроекте.

Параметр NEXT_TAKING_PERIOD указывает период времени, через который будет планироваться следующий прием лекарства.

## Используемые технологии


В данном проекте использованы следующие технологии:
1. *Go (Golang)*

Основной язык программирования, используемый для разработки серверной части приложения. 

2. *Echo*

Фреймворк для разработки веб-приложений на Go. Echo является быстрым и минималистичным фреймворком, который предоставляет удобные инструменты для создания REST API, маршрутизации и обработки запросов.

3. *GORM*

ORM (Object-Relational Mapping) библиотека для Go, которая используется для работы с базой данных. GORM позволяет работать с данными в базе данных через Go структуры и облегчает создание, чтение, обновление и удаление данных.

4. MySQL

Реляционная система управления базами данных, используемая для хранения данных о расписаниях и пользователях.

## Структура проекта


```bash
├── cmd
│   ├── main.go
│   ├── .env
├── internal
│   ├── config
│   │   ├── period_config.go
│   ├── controllers
│   │   ├── schedule_controller.go
│   ├── database
│   │   ├── mysql.go
│   ├── models
│   │   ├── schedule.go
│   ├── repos
│   │   ├── schedule_repo.go
│   ├── services
│   │   ├── schedule_service.go
│   ├── utils
│   │   ├── next_takings.go
│   │   ├── round_time.go
└── migrations
    └── migration.go



```


# API

## GET /schedules?user_id={user_id}

Получает список идентификаторов существующих расписаний для указанного пользователя.

**Параметры запроса:**

    user_id (uint): Идентификатор пользователя.

**Ответ:**

Возвращает массив идентификаторов расписаний.


## GET /schedule?user_id={user_id}&schedule_id={schedule_id}

Получает данные о выбранном расписании с рассчитанным графиком приёмов на день.
Параметры запроса:

    user_id (uint): Идентификатор пользователя.
    schedule_id (uint): Идентификатор расписания.

**Ответ:**

Возвращает данные о расписании и расписание приёмов на день.


## GET /next_takings?user_id={user_id}
    
Получает данные о лекарствах, которые необходимо принять в ближайший период времени (например, в ближайший час).
Параметры запроса:

    user_id (uint): Идентификатор пользователя.

**Ответ:**

Возвращает данные о таблетках, которые нужно принять в ближайший период (название лекарства и во сколько нужно принять таблетки исходя из периода).